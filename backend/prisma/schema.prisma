generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Aluno {
  id     Int             @id @default(autoincrement())
  email  String          @unique
  nome   String?
  cursos Curso[]
  aulas  AulasOfAlunos[]

  @@map("alunos")
}

model Professor {
  id     Int     @id @default(autoincrement())
  email  String  @unique
  nome   String?
  cursos Curso[]
  aulas  Aula[]

  @@map("professores")
}

model Curso {
  id          Int         @id @default(autoincrement())
  titulo      String
  descricao   String?
  alunos      Aluno[]
  professores Professor[]
  aulas       Aula[]
  categorias  Categoria_curso[]
  @@map("cursos")
}

model Aula {
  id          Int             @id @default(autoincrement())
  nome        String
  tipoAula    TipoAula        @relation(fields: [tipoAulaId], references: [id])
  curso       Curso           @relation(fields: [cursoId], references: [id])
  professor   Professor       @relation(fields: [professorId], references: [id])
  alunos      AulasOfAlunos[]
  tipoAulaId  Int
  cursoId     Int
  professorId Int

  @@map("aulas")
}

model TipoAula {
  id    Int    @id @default(autoincrement())
  tipo  String
  aulas Aula[]

  @@map("tipo_aula")
}

model AulasOfAlunos {
  aula    Aula  @relation(fields: [aulaId], references: [id])
  aulaId  Int
  aluno   Aluno @relation(fields: [alunoId], references: [id])
  alunoId Int

  @@id([aulaId, alunoId])
  @@map("aulasOfAlunos")
}

model Categoria_curso {
  id    Int    @id @default(autoincrement())
  tipo  String
  cursos Curso[]
  @@map("categoria_cursos")
}